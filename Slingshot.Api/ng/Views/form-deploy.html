<!-- Modal -->
<div class="modal fade" id="errorModal" tabindex="-1" role="dialog" aria-labelledby="errorModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="errorModalLabel">Deployment Error</h4>
      </div>
      <div class="modal-body">
        {{formData.errorMesg}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="result-body">
  <ul>
    <div ng-repeat="mesg in formData.statusMesgs">
      {{mesg}}  
      <span id="spinnerStatus" ng-if="$last"><i class="fa fa-spinner fa-spin" ng-show="!formData.errorMesg && !formData.deploymentSucceeded"></i></span>
    </div>
    <div ng-show="formData.errorMesg">
      <span class="text-danger">Deployment Failed</span>
      <a href ng-click="showError()"> (View Error)</a>
    </div>
    <div ng-show="formData.deploymentSucceeded">
      <div>Deployment Complete</div>
      <div>
        <a target="_blank" ng-href="{{formData.portalUrl}}">Manage</a> your 
        <span ng-show="formData.repoParamFound">site / Browse to 
          <a target="_blank" ng-href="{{formData.siteUrl}}">{{formData.siteUrl}}</a>
        </span>
        <span ng-show="!formData.repoParamFound">resources</span>
      </div>
    </div>
  </ul>
</div>

<div class="row" ng-show="formData.errorMesg">
  <div class="form-group col-xs-6 col-xs-offset-6 text-right">
    <a ui-sref="form.setup" class="btn btn-info wizard-button"><span class="glyphicon glyphicon-circle-arrow-left"></span> Setup</a>
    <a ng-click="retryDeploy()" class="btn btn-info wizard-button">Retry</a>
  </div>
</div>
